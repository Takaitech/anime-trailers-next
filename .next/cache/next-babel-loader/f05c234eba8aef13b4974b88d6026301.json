{"ast":null,"code":"var _jsxFileName = \"/Users/takaitech/Takai-Tech/anime-trailers-next/components/VideosOverlay.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AnimeContext } from '../contexts/AnimeContext';\nimport { OverlayContext } from '../contexts/OverlayContext';\nimport ModalVideo from 'react-modal-video';\n\nvar VideosOverlay = function VideosOverlay() {\n  var _useContext = useContext(AnimeContext),\n      selected = _useContext.selected;\n\n  var _useContext2 = useContext(OverlayContext),\n      dispatch = _useContext2.dispatch,\n      hidden = _useContext2.hidden;\n\n  var _useState = useState([]),\n      trailers = _useState[0],\n      setTrailers = _useState[1];\n\n  var _useState2 = useState(),\n      trailer = _useState2[0],\n      setTrailer = _useState2[1];\n\n  useEffect(function () {\n    if (selected.mal_id !== undefined) {\n      fetch(\"https://api.jikan.moe/v3/anime/\" + selected.mal_id + \"/videos\").then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        return setTrailers(responseJson.promo);\n      })[\"catch\"](function (err) {\n        console.log(err);\n      });\n    }\n  }, [selected]);\n\n  var hideOverlay = function hideOverlay() {\n    dispatch({\n      type: 'HIDE_SHOW_OVERLAY',\n      \"boolean\": true\n    });\n  };\n\n  var getYoutubeId = function getYoutubeId(url) {\n    var ID = '';\n    url = url.replace(/(>|<)/gi, '').split(/(vi\\/|v=|\\/v\\/|youtu\\.be\\/|\\/embed\\/)/);\n\n    if (url[2] !== undefined) {\n      ID = url[2].split(/[^0-9a-z_\\-]/i);\n      ID = ID[0];\n    } else {\n      ID = url;\n    }\n\n    return ID;\n  };\n\n  return __jsx(\"div\", {\n    onClick: function onClick() {\n      return hideOverlay();\n    },\n    className: _JSXStyle.dynamic([[\"3504924523\", [hidden === true ? \"none\" : \"flex\"]]]) + \" \" + \"overlay\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3504924523\", [hidden === true ? \"none\" : \"flex\"]]]) + \" \" + \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    className: _JSXStyle.dynamic([[\"3504924523\", [hidden === true ? \"none\" : \"flex\"]]]) + \" \" + 'title',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, selected.title), __jsx(\"h2\", {\n    className: _JSXStyle.dynamic([[\"3504924523\", [hidden === true ? \"none\" : \"flex\"]]]) + \" \" + 'rating',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, selected.score + '/10')), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3504924523\", [hidden === true ? \"none\" : \"flex\"]]]) + \" \" + 'trailerCarousel',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, trailers.map(function (trailer, index) {\n    return __jsx(\"div\", {\n      onClick: function onClick() {\n        return openModal();\n      },\n      key: index,\n      className: _JSXStyle.dynamic([[\"3504924523\", [hidden === true ? \"none\" : \"flex\"]]]) + \" \" + \"trailer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, __jsx(ModalVideo, {\n      channel: \"youtube\",\n      isOpen: isOpen,\n      videoId: getYoutubeId(trailer.video_url),\n      onClose: function onClose() {\n        return setisOpen(false);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), __jsx(\"img\", {\n      src: trailer.image_url,\n      className: _JSXStyle.dynamic([[\"3504924523\", [hidden === true ? \"none\" : \"flex\"]]]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), __jsx(\"h3\", {\n      className: _JSXStyle.dynamic([[\"3504924523\", [hidden === true ? \"none\" : \"flex\"]]]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, trailer.title));\n  })), __jsx(_JSXStyle, {\n    id: \"3504924523\",\n    dynamic: [hidden === true ? \"none\" : \"flex\"],\n    __self: this\n  }, \".overlay.__jsx-style-dynamic-selector{position:absolute;top:0;bottom:0;left:0;right:0;z-index:100;background-color:rgb(0,0,0);background-color:rgb(0,0,0,.9);margin-left:auto;margin-right:auto;display:\".concat(hidden === true ? \"none\" : \"flex\", \";-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.info.__jsx-style-dynamic-selector{width:80%;margin:0 auto;-webkit-flex:0 0 30%;-ms-flex:0 0 30%;flex:0 0 30%;}.title.__jsx-style-dynamic-selector{color:white;text-align:left;}.rating.__jsx-style-dynamic-selector{color:white;text-align:left;}.trailerCarousel.__jsx-style-dynamic-selector{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.trailer.__jsx-style-dynamic-selector{width:80%;margin:0 auto 10px auto;}.trailer.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{width:100%;}.trailer.__jsx-style-dynamic-selector h3.__jsx-style-dynamic-selector{color:white;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90YWthaXRlY2gvVGFrYWktVGVjaC9hbmltZS10cmFpbGVycy1uZXh0L2NvbXBvbmVudHMvVmlkZW9zT3ZlcmxheS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE0RHdCLEFBSXVDLEFBZVIsQUFNRSxBQUtBLEFBT0QsQUFPRCxBQUlDLEFBR0MsVUEvQkUsQUF5QlMsQ0FQVixBQVdqQixDQXZCb0IsQUFPckIsQUFtQkMsTUEvQ1UsTUFDRSxBQWVLLElBTWpCLEFBTUEsS0ExQlcsQ0F1Q1gsTUF0Q1ksUUFDSSxZQUNnQixlQVloQyxVQWlCbUIsR0E1QmdCLCtCQUNkLGlCQUNBLE1BMkJFLFlBMUJrQixxQ0FDZiw0Q0EwQjFCLGtDQXpCQSIsImZpbGUiOiIvVXNlcnMvdGFrYWl0ZWNoL1Rha2FpLVRlY2gvYW5pbWUtdHJhaWxlcnMtbmV4dC9jb21wb25lbnRzL1ZpZGVvc092ZXJsYXkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ29udGV4dH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBBbmltZUNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0cy9BbmltZUNvbnRleHQnXG5pbXBvcnQgeyBPdmVybGF5Q29udGV4dCB9IGZyb20gJy4uL2NvbnRleHRzL092ZXJsYXlDb250ZXh0J1xuaW1wb3J0IE1vZGFsVmlkZW8gZnJvbSAncmVhY3QtbW9kYWwtdmlkZW8nXG5cblxuY29uc3QgVmlkZW9zT3ZlcmxheSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHNlbGVjdGVkIH0gPSB1c2VDb250ZXh0KEFuaW1lQ29udGV4dClcbiAgICBjb25zdCB7IGRpc3BhdGNoLCBoaWRkZW4gfSA9IHVzZUNvbnRleHQoT3ZlcmxheUNvbnRleHQpXG4gICAgY29uc3QgWyB0cmFpbGVycywgc2V0VHJhaWxlcnNdID0gdXNlU3RhdGUoW10pXG5cbiAgICBjb25zdCBbIHRyYWlsZXIsIHNldFRyYWlsZXJdID0gdXNlU3RhdGUoKVxuXG5cbiAgICBcbiAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgIGlmKHNlbGVjdGVkLm1hbF9pZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmZXRjaChcImh0dHBzOi8vYXBpLmppa2FuLm1vZS92My9hbmltZS9cIiArIHNlbGVjdGVkLm1hbF9pZCArIFwiL3ZpZGVvc1wiKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2VKc29uID0+IHNldFRyYWlsZXJzKHJlc3BvbnNlSnNvbi5wcm9tbykpXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+e1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sW3NlbGVjdGVkXSlcblxuXG4gICAgY29uc3QgaGlkZU92ZXJsYXkgPSAoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKHt0eXBlOidISURFX1NIT1dfT1ZFUkxBWScsIGJvb2xlYW46dHJ1ZX0pXG4gICAgfVxuXG4gICAgY29uc3QgZ2V0WW91dHViZUlkID0gKHVybCkgPT4ge1xuICAgICAgICB2YXIgSUQgPSAnJztcbiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoLyg+fDwpL2dpLCcnKS5zcGxpdCgvKHZpXFwvfHY9fFxcL3ZcXC98eW91dHVcXC5iZVxcL3xcXC9lbWJlZFxcLykvKTtcbiAgICAgICAgaWYodXJsWzJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBJRCA9IHVybFsyXS5zcGxpdCgvW14wLTlhLXpfXFwtXS9pKTtcbiAgICAgICAgICBJRCA9IElEWzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIElEID0gdXJsO1xuICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIElEO1xuICAgIH1cblxuXG4gICAgcmV0dXJuKFxuICAgICAgICA8ZGl2IG9uQ2xpY2s9eygpID0+IGhpZGVPdmVybGF5KCl9IGNsYXNzTmFtZT1cIm92ZXJsYXlcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mb1wiPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9J3RpdGxlJz57c2VsZWN0ZWQudGl0bGV9PC9oMj5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPSdyYXRpbmcnPntzZWxlY3RlZC5zY29yZSArICcvMTAnfTwvaDI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0cmFpbGVyQ2Fyb3VzZWwnPlxuICAgICAgICAgICAgICAgIHt0cmFpbGVycy5tYXAoKHRyYWlsZXIsaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBvbkNsaWNrPXsoKSA9PiBvcGVuTW9kYWwoKX0gY2xhc3NOYW1lPVwidHJhaWxlclwiIGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPE1vZGFsVmlkZW8gY2hhbm5lbD0neW91dHViZScgaXNPcGVuPXtpc09wZW59IHZpZGVvSWQ9e2dldFlvdXR1YmVJZCh0cmFpbGVyLnZpZGVvX3VybCl9ICBvbkNsb3NlPXsoKSA9PiBzZXRpc09wZW4oZmFsc2UpfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e3RyYWlsZXIuaW1hZ2VfdXJsfT48L2ltZz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMz57dHJhaWxlci50aXRsZX08L2gzPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC5vdmVybGF5IHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTowO1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgICAgICAgICByaWdodDogMDtcbiAgICAgICAgICAgICAgICAgICAgei1pbmRleDogMTAwO1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwwLDApO1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwwLDAsLjkpO1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OmF1dG87XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICR7aGlkZGVuID09PSB0cnVlPyBcIm5vbmVcIiA6IFwiZmxleFwifTtcbiAgICAgICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAuaW5mbyB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiA4MCU7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgICAgICAgICAgICBmbGV4OiAwIDAgMzAlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC50aXRsZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAucmF0aW5nIHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuXG4gICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnRcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIC50cmFpbGVyQ2Fyb3VzZWwge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC50cmFpbGVyIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDgwJTtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOjAgYXV0byAxMHB4IGF1dG87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC50cmFpbGVyIGltZyB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAudHJhaWxlciBoMyB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgfVxuICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWRlb3NPdmVybGF5Il19 */\\n/*@ sourceURL=/Users/takaitech/Takai-Tech/anime-trailers-next/components/VideosOverlay.js */\")));\n};\n\nexport default VideosOverlay;","map":{"version":3,"sources":["/Users/takaitech/Takai-Tech/anime-trailers-next/components/VideosOverlay.js"],"names":["React","useState","useEffect","useContext","AnimeContext","OverlayContext","ModalVideo","VideosOverlay","selected","dispatch","hidden","trailers","setTrailers","trailer","setTrailer","mal_id","undefined","fetch","then","response","json","responseJson","promo","err","console","log","hideOverlay","type","getYoutubeId","url","ID","replace","split","title","score","map","index","openModal","isOpen","video_url","setisOpen","image_url"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext} from 'react'\nimport { AnimeContext } from '../contexts/AnimeContext'\nimport { OverlayContext } from '../contexts/OverlayContext'\nimport ModalVideo from 'react-modal-video'\n\n\nconst VideosOverlay = () => {\n    const { selected } = useContext(AnimeContext)\n    const { dispatch, hidden } = useContext(OverlayContext)\n    const [ trailers, setTrailers] = useState([])\n\n    const [ trailer, setTrailer] = useState()\n\n\n    \n        useEffect(() => {\n            if(selected.mal_id !== undefined) {\n            fetch(\"https://api.jikan.moe/v3/anime/\" + selected.mal_id + \"/videos\")\n            .then(response => response.json())\n            .then(responseJson => setTrailers(responseJson.promo))\n            .catch(err =>{\n                console.log(err)\n            })\n            }\n        },[selected])\n\n\n    const hideOverlay = () => {\n        dispatch({type:'HIDE_SHOW_OVERLAY', boolean:true})\n    }\n\n    const getYoutubeId = (url) => {\n        var ID = '';\n        url = url.replace(/(>|<)/gi,'').split(/(vi\\/|v=|\\/v\\/|youtu\\.be\\/|\\/embed\\/)/);\n        if(url[2] !== undefined) {\n          ID = url[2].split(/[^0-9a-z_\\-]/i);\n          ID = ID[0];\n        }\n        else {\n          ID = url;\n        }\n          return ID;\n    }\n\n\n    return(\n        <div onClick={() => hideOverlay()} className=\"overlay\">\n            <div className=\"info\">\n                <h2 className='title'>{selected.title}</h2>\n                <h2 className='rating'>{selected.score + '/10'}</h2>\n            </div>\n            <div className='trailerCarousel'>\n                {trailers.map((trailer,index) => (\n                    <div onClick={() => openModal()} className=\"trailer\" key={index}>\n                        <ModalVideo channel='youtube' isOpen={isOpen} videoId={getYoutubeId(trailer.video_url)}  onClose={() => setisOpen(false)} />\n                        <img src={trailer.image_url}></img>\n                        <h3>{trailer.title}</h3>\n                    </div>\n                ))}\n            </div>\n            <style jsx>{`\n                \n                .overlay {\n                    position: absolute;\n                    top: 0;\n                    bottom:0;\n                    left: 0;\n                    right: 0;\n                    z-index: 100;\n                    background-color: rgb(0,0,0);\n                    background-color: rgb(0,0,0,.9);\n                    margin-left: auto;\n                    margin-right:auto;\n                    display: ${hidden === true? \"none\" : \"flex\"};\n                    flex-direction: column;\n                }\n\n                .info {\n                    width: 80%;\n                    margin: 0 auto;\n                    flex: 0 0 30%;\n                }\n\n                .title {\n                    color: white;\n                    text-align: left;\n                }\n\n                .rating {\n                    color: white;\n\n                    text-align: left\n                }\n\n\n                .trailerCarousel {\n                    width: 100%;\n                    display: flex;\n                    flex-wrap: wrap;\n                    align-items: center;\n                }\n\n                .trailer {\n                    width: 80%;\n                    margin:0 auto 10px auto;\n                }\n                .trailer img {\n                    width: 100%;\n                }\n                .trailer h3 {\n                    color: white;\n                }\n            `}\n            </style>\n        </div>\n    )\n}\n\nexport default VideosOverlay"]},"metadata":{},"sourceType":"module"}