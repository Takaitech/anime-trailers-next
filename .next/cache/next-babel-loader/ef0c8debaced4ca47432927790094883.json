{"ast":null,"code":"var _jsxFileName = \"/Users/takaitech/Takai-Tech/anime-trailers-next/components/VideosOverlay.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useContext, useRef } from 'react';\nimport { AnimeContext } from '../contexts/AnimeContext';\nimport { OverlayContext } from '../contexts/OverlayContext';\nimport ModalVideo from 'react-modal-video';\n\nvar VideosOverlay = function VideosOverlay() {\n  var _useContext = useContext(AnimeContext),\n      selected = _useContext.selected;\n\n  var _useContext2 = useContext(OverlayContext),\n      dispatch = _useContext2.dispatch,\n      hidden = _useContext2.hidden;\n\n  var _useState = useState([]),\n      trailers = _useState[0],\n      setTrailers = _useState[1];\n\n  var _useState2 = useState(),\n      trailer = _useState2[0],\n      setTrailer = _useState2[1];\n\n  var _useState3 = useState(),\n      videoPlaying = _useState3[0],\n      setVideoPlaying = _useState3[1];\n\n  useEffect(function () {\n    if (selected.mal_id !== undefined) {\n      fetch(\"https://api.jikan.moe/v3/anime/\" + selected.mal_id + \"/videos\").then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        return setTrailers(responseJson.promo);\n      })[\"catch\"](function (err) {\n        console.log(err);\n      });\n    }\n  }, [selected]);\n  useEffect(function () {\n    window.addEventListener('click', function (event) {\n      var videoLink = this.document.getElementById('videoLink');\n\n      if (videoLink !== null) {\n        var isClickInside = videoLink.contains(event.target);\n      }\n\n      if (!isClickInside) {\n        dispatch({\n          type: 'HIDE_SHOW_OVERLAY',\n          \"boolean\": true\n        });\n      }\n    });\n  });\n  return __jsx(\"div\", {\n    onClick: function onClick(e) {\n      return console.log('overlay clicked');\n    },\n    className: _JSXStyle.dynamic([[\"3831109512\", [hidden === true ? \"none\" : \"flex\"]]]) + \" \" + \"overlay\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3831109512\", [hidden === true ? \"none\" : \"flex\"]]]) + \" \" + \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    className: _JSXStyle.dynamic([[\"3831109512\", [hidden === true ? \"none\" : \"flex\"]]]) + \" \" + 'title',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, selected.title), __jsx(\"h2\", {\n    className: _JSXStyle.dynamic([[\"3831109512\", [hidden === true ? \"none\" : \"flex\"]]]) + \" \" + 'rating',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, selected.score + '/10')), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3831109512\", [hidden === true ? \"none\" : \"flex\"]]]) + \" \" + 'trailerCarousel',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, trailers.map(function (trailer, index) {\n    return __jsx(\"a\", {\n      id: \"videoLink\",\n      onClick: function onClick(e) {\n        return console.log('link clicked');\n      },\n      href: trailer.video_url,\n      key: index,\n      \"data-lity\": true,\n      className: _JSXStyle.dynamic([[\"3831109512\", [hidden === true ? \"none\" : \"flex\"]]]) + \" \" + \"trailerLink\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: _JSXStyle.dynamic([[\"3831109512\", [hidden === true ? \"none\" : \"flex\"]]]) + \" \" + \"trailer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: trailer.image_url,\n      className: _JSXStyle.dynamic([[\"3831109512\", [hidden === true ? \"none\" : \"flex\"]]]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), __jsx(\"h3\", {\n      className: _JSXStyle.dynamic([[\"3831109512\", [hidden === true ? \"none\" : \"flex\"]]]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, trailer.title)));\n  })), __jsx(_JSXStyle, {\n    id: \"3831109512\",\n    dynamic: [hidden === true ? \"none\" : \"flex\"],\n    __self: this\n  }, \".overlay.__jsx-style-dynamic-selector{position:absolute;top:0;bottom:0;left:0;right:0;z-index:100;background-color:rgb(0,0,0);background-color:rgb(0,0,0,.9);margin-left:auto;margin-right:auto;display:\".concat(hidden === true ? \"none\" : \"flex\", \";-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.info.__jsx-style-dynamic-selector{width:80%;margin:0 auto;-webkit-flex:0 0 30%;-ms-flex:0 0 30%;flex:0 0 30%;}.title.__jsx-style-dynamic-selector{color:white;text-align:left;}.rating.__jsx-style-dynamic-selector{color:white;text-align:left;}.trailerCarousel.__jsx-style-dynamic-selector{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.trailerLink.__jsx-style-dynamic-selector{position:absolute;z-index:156;}.trailer.__jsx-style-dynamic-selector{width:80%;margin:0 auto 10px auto;}.trailer.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{width:100%;}.trailer.__jsx-style-dynamic-selector h3.__jsx-style-dynamic-selector{color:white;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90YWthaXRlY2gvVGFrYWktVGVjaC9hbmltZS10cmFpbGVycy1uZXh0L2NvbXBvbmVudHMvVmlkZW9zT3ZlcmxheS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUErRHdCLEFBSXVDLEFBZVIsQUFNRSxBQUtBLEFBT0QsQUFPTyxBQUtSLEFBSUMsQUFHQyxVQXBDRSxBQThCUyxDQVpWLEFBZ0JqQixDQTVCb0IsQUFPckIsQUF3QkMsTUFwRFUsQUF3Q00sTUF2Q0osQUFlSyxJQU1qQixBQU1BLEVBYUEsR0F2Q1csQ0E0Q1gsTUEzQ1ksUUFDSSxZQUNnQixlQVloQyxVQWlCbUIsR0E1QmdCLCtCQUNkLGlCQUNBLE1BMkJFLFlBMUJrQixxQ0FDZiw0Q0EwQjFCLGtDQXpCQSIsImZpbGUiOiIvVXNlcnMvdGFrYWl0ZWNoL1Rha2FpLVRlY2gvYW5pbWUtdHJhaWxlcnMtbmV4dC9jb21wb25lbnRzL1ZpZGVvc092ZXJsYXkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ29udGV4dCwgdXNlUmVmfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEFuaW1lQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHRzL0FuaW1lQ29udGV4dCdcbmltcG9ydCB7IE92ZXJsYXlDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dHMvT3ZlcmxheUNvbnRleHQnXG5pbXBvcnQgTW9kYWxWaWRlbyBmcm9tICdyZWFjdC1tb2RhbC12aWRlbydcblxuXG5jb25zdCBWaWRlb3NPdmVybGF5ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc2VsZWN0ZWQgfSA9IHVzZUNvbnRleHQoQW5pbWVDb250ZXh0KVxuICAgIGNvbnN0IHsgZGlzcGF0Y2gsIGhpZGRlbiB9ID0gdXNlQ29udGV4dChPdmVybGF5Q29udGV4dClcbiAgICBjb25zdCBbIHRyYWlsZXJzLCBzZXRUcmFpbGVyc10gPSB1c2VTdGF0ZShbXSlcblxuICAgIGNvbnN0IFsgdHJhaWxlciwgc2V0VHJhaWxlcl0gPSB1c2VTdGF0ZSgpXG4gICAgY29uc3QgWyB2aWRlb1BsYXlpbmcsIHNldFZpZGVvUGxheWluZyBdID0gdXNlU3RhdGUoKVxuXG4gICAgXG4gICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICBpZihzZWxlY3RlZC5tYWxfaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZmV0Y2goXCJodHRwczovL2FwaS5qaWthbi5tb2UvdjMvYW5pbWUvXCIgKyBzZWxlY3RlZC5tYWxfaWQgKyBcIi92aWRlb3NcIilcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlSnNvbiA9PiBzZXRUcmFpbGVycyhyZXNwb25zZUpzb24ucHJvbW8pKVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PntcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFtzZWxlY3RlZF0pXG5cblxuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZpZGVvTGluayA9IHRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvTGluaycpXG4gICAgICAgICAgICAgICAgICAgIGlmKHZpZGVvTGluayAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzQ2xpY2tJbnNpZGUgPSB2aWRlb0xpbmsuY29udGFpbnMoZXZlbnQudGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQ2xpY2tJbnNpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goe3R5cGU6J0hJREVfU0hPV19PVkVSTEFZJywgYm9vbGVhbjp0cnVlfSlcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAgICAgfSk7XG4gICBcblxuXG5cbiAgICByZXR1cm4oXG4gICAgICAgIDxkaXYgb25DbGljaz17KGUpID0+IGNvbnNvbGUubG9nKCdvdmVybGF5IGNsaWNrZWQnKX0gY2xhc3NOYW1lPVwib3ZlcmxheVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvXCI+XG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT0ndGl0bGUnPntzZWxlY3RlZC50aXRsZX08L2gyPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9J3JhdGluZyc+e3NlbGVjdGVkLnNjb3JlICsgJy8xMCd9PC9oMj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RyYWlsZXJDYXJvdXNlbCc+XG4gICAgICAgICAgICAgICAge3RyYWlsZXJzLm1hcCgodHJhaWxlcixpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJ0cmFpbGVyTGlua1wiIGlkPVwidmlkZW9MaW5rXCIgb25DbGljaz17KGUpID0+IGNvbnNvbGUubG9nKCdsaW5rIGNsaWNrZWQnKX0gIGhyZWY9e3RyYWlsZXIudmlkZW9fdXJsfSBrZXk9e2luZGV4fSBkYXRhLWxpdHk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyYWlsZXJcIiA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e3RyYWlsZXIuaW1hZ2VfdXJsfT48L2ltZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+e3RyYWlsZXIudGl0bGV9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAub3ZlcmxheSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgICAgICAgICAgICBib3R0b206MDtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDEwMDtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDAsMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDAsMCwwLC45KTtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDphdXRvO1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAke2hpZGRlbiA9PT0gdHJ1ZT8gXCJub25lXCIgOiBcImZsZXhcIn07XG4gICAgICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLmluZm8ge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogODAlO1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgICAgICAgICAgICAgZmxleDogMCAwIDMwJTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAudGl0bGUge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLnJhdGluZyB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcblxuICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAudHJhaWxlckNhcm91c2VsIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICAgICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAudHJhaWxlckxpbmsge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDE1NjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAudHJhaWxlciB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiA4MCU7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjowIGF1dG8gMTBweCBhdXRvO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAudHJhaWxlciBpbWcge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLnRyYWlsZXIgaDMge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgIDwvZGl2PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlkZW9zT3ZlcmxheSJdfQ== */\\n/*@ sourceURL=/Users/takaitech/Takai-Tech/anime-trailers-next/components/VideosOverlay.js */\")));\n};\n\nexport default VideosOverlay;","map":{"version":3,"sources":["/Users/takaitech/Takai-Tech/anime-trailers-next/components/VideosOverlay.js"],"names":["React","useState","useEffect","useContext","useRef","AnimeContext","OverlayContext","ModalVideo","VideosOverlay","selected","dispatch","hidden","trailers","setTrailers","trailer","setTrailer","videoPlaying","setVideoPlaying","mal_id","undefined","fetch","then","response","json","responseJson","promo","err","console","log","window","addEventListener","event","videoLink","document","getElementById","isClickInside","contains","target","type","e","title","score","map","index","video_url","image_url"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext, useRef} from 'react'\nimport { AnimeContext } from '../contexts/AnimeContext'\nimport { OverlayContext } from '../contexts/OverlayContext'\nimport ModalVideo from 'react-modal-video'\n\n\nconst VideosOverlay = () => {\n    const { selected } = useContext(AnimeContext)\n    const { dispatch, hidden } = useContext(OverlayContext)\n    const [ trailers, setTrailers] = useState([])\n\n    const [ trailer, setTrailer] = useState()\n    const [ videoPlaying, setVideoPlaying ] = useState()\n\n    \n        useEffect(() => {\n            if(selected.mal_id !== undefined) {\n            fetch(\"https://api.jikan.moe/v3/anime/\" + selected.mal_id + \"/videos\")\n            .then(response => response.json())\n            .then(responseJson => setTrailers(responseJson.promo))\n            .catch(err =>{\n                console.log(err)\n            })\n            }\n        },[selected])\n\n\n            useEffect(() => {\n                window.addEventListener('click', function(event) {\n        \n                    let videoLink = this.document.getElementById('videoLink')\n                    if(videoLink !== null) {\n                        var isClickInside = videoLink.contains(event.target);\n\n                    }\n                    \n                    if (!isClickInside) {\n                                dispatch({type:'HIDE_SHOW_OVERLAY', boolean:true})\n        \n                    }\n                    });\n        \n            });\n   \n\n\n\n    return(\n        <div onClick={(e) => console.log('overlay clicked')} className=\"overlay\">\n            <div className=\"info\">\n                <h2 className='title'>{selected.title}</h2>\n                <h2 className='rating'>{selected.score + '/10'}</h2>\n            </div>\n            <div className='trailerCarousel'>\n                {trailers.map((trailer,index) => (\n                    <a className=\"trailerLink\" id=\"videoLink\" onClick={(e) => console.log('link clicked')}  href={trailer.video_url} key={index} data-lity>\n                        <div className=\"trailer\" >\n                            <img src={trailer.image_url}></img>\n                            <h3>{trailer.title}</h3>\n                        </div>\n                    </a>\n                ))}\n            </div>\n            <style jsx>{`\n                \n                .overlay {\n                    position: absolute;\n                    top: 0;\n                    bottom:0;\n                    left: 0;\n                    right: 0;\n                    z-index: 100;\n                    background-color: rgb(0,0,0);\n                    background-color: rgb(0,0,0,.9);\n                    margin-left: auto;\n                    margin-right:auto;\n                    display: ${hidden === true? \"none\" : \"flex\"};\n                    flex-direction: column;\n                }\n\n                .info {\n                    width: 80%;\n                    margin: 0 auto;\n                    flex: 0 0 30%;\n                }\n\n                .title {\n                    color: white;\n                    text-align: left;\n                }\n\n                .rating {\n                    color: white;\n\n                    text-align: left\n                }\n\n\n                .trailerCarousel {\n                    width: 100%;\n                    display: flex;\n                    flex-wrap: wrap;\n                    align-items: center;\n                }\n\n                .trailerLink {\n                    position: absolute;\n                    z-index: 156;\n                }\n\n                .trailer {\n                    width: 80%;\n                    margin:0 auto 10px auto;\n                }\n                .trailer img {\n                    width: 100%;\n                }\n                .trailer h3 {\n                    color: white;\n                }\n            `}\n            </style>\n        </div>\n    )\n}\n\nexport default VideosOverlay"]},"metadata":{},"sourceType":"module"}